{% extends "simplims_app/visita_tecnica/base_tabs.html" %}
{% block tab_content %}
    <h2>
        Lista de Visitas Técnicas
        <a type="button"
           class="btn btn-primary"
           href="{% url 'visita_tecnica_criar' %}"
           class="btn btn-primary">Incluir</a>
    </h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ordem de Serviço</th>
                <th>Data</th>
                <th>Hora</th>
                <th>Local</th>
                <th>Responsável</th>
                <th>Status</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for visita in object_list %}
                <tr>
                    <td>{{ visita.id }}</td>
                    <td>{{ visita.ordem_servico }}</td>
                    <td>{{ visita.data_visita }}</td>
                    <td>{{ visita.hora_visita|default:"-" }}</td>
                    <td>{{ visita.local }}</td>
                    <td>{{ visita.responsavel }}</td>
                    <td>{{ visita.get_status_display }}</td>
                    <td>
                        <a href="{% url 'visita_tecnica_editar' visita.pk %}"
                           class="btn btn-sm btn-warning">Editar</a>
                        <a href="{% url 'visita_tecnica_excluir' visita.pk %}"
                           class="btn btn-sm btn-danger">Excluir</a>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="8" class="text-center">Nenhuma visita técnica cadastrada.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
